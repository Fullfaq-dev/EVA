# üìä –ò—Ç–æ–≥–∏ –º–∏–≥—Ä–∞—Ü–∏–∏ —Å Base44 –Ω–∞ Supabase

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### üóÑÔ∏è –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

**–°–æ–∑–¥–∞–Ω —Ñ–∞–π–ª:** [`supabase/migrations/001_initial_schema.sql`](./supabase/migrations/001_initial_schema.sql)

–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –≤–∫–ª—é—á–∞–µ—Ç 6 —Ç–∞–±–ª–∏—Ü:

1. **user_profiles** - –ø—Ä–æ—Ñ–∏–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (telegram_id, –ø–æ–ª, —Ä–æ—Å—Ç, –≤–µ—Å, —Ü–µ–ª–∏ –ø–∏—Ç–∞–Ω–∏—è, –ö–ë–ñ–£)
2. **food_entries** - –∑–∞–ø–∏—Å–∏ –æ –µ–¥–µ (–æ–ø–∏—Å–∞–Ω–∏–µ, —Ñ–æ—Ç–æ, –ö–ë–ñ–£, —Ç–∏–ø –ø—Ä–∏–µ–º–∞ –ø–∏—â–∏)
3. **daily_stats** - –¥–Ω–µ–≤–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ (–∫–∞–ª–æ—Ä–∏–∏, –≤–æ–¥–∞, —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è, –±–∞–ª–ª—ã)
4. **analysis_uploads** - –∑–∞–≥—Ä—É–∑–∫–∏ –∞–Ω–∞–ª–∏–∑–æ–≤ (—Ñ–∞–π–ª—ã, —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –ë–ê–î–∞–º)
5. **reminders** - –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è (–≤–æ–¥–∞, –µ–¥–∞, —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è)
6. **achievements** - –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

‚úÖ –í—Å–µ –∏–Ω–¥–µ–∫—Å—ã –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –¥–ª—è –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
‚úÖ Row Level Security (RLS) –≤–∫–ª—é—á—ë–Ω –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
‚úÖ –¢—Ä–∏–≥–≥–µ—Ä—ã –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è `updated_at`

### üîß API —Å–ª–æ–π

#### [`src/api/supabaseClient.js`](./src/api/supabaseClient.js)
- –°–æ–∑–¥–∞–Ω –∫–ª–∏–µ–Ω—Ç Supabase
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–ª—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

#### [`src/api/entities.js`](./src/api/entities.js) ‚Üê –ü–û–õ–ù–û–°–¢–¨–Æ –ü–ï–†–ï–ü–ò–°–ê–ù
**–ë—ã–ª–æ:** `base44.entities.*`
**–°—Ç–∞–ª–æ:** –ü—Ä—è–º–∞—è —Ä–∞–±–æ—Ç–∞ —Å Supabase —á–µ—Ä–µ–∑ helper —Ñ—É–Ω–∫—Ü–∏–∏

–ú–µ—Ç–æ–¥—ã –¥–ª—è –≤—Å–µ—Ö entity:
- `filter(conditions, orderBy, limit)` - –ø–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π
- `create(data)` - —Å–æ–∑–¥–∞–Ω–∏–µ –∑–∞–ø–∏—Å–∏
- `update(id, data)` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–ø–∏—Å–∏
- `delete(id)` - —É–¥–∞–ª–µ–Ω–∏–µ –∑–∞–ø–∏—Å–∏
- `get(id)` - –ø–æ–ª—É—á–µ–Ω–∏–µ –æ–¥–Ω–æ–π –∑–∞–ø–∏—Å–∏

#### [`src/api/functions.js`](./src/api/functions.js) ‚Üê –ü–û–õ–ù–û–°–¢–¨–Æ –ü–ï–†–ï–ü–ò–°–ê–ù
**–ë—ã–ª–æ:** `base44.functions.invoke()`
**–°—Ç–∞–ª–æ:** –ü—Ä—è–º—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –Ω–∞ JavaScript/Supabase

–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:
- `manageProfile()` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª–µ–º (get/create/update)
- `createFoodEntry()` - —Å–æ–∑–¥–∞–Ω–∏–µ –∑–∞–ø–∏—Å–∏ –æ –µ–¥–µ
- `updateFoodEntry()` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ö–ë–ñ–£ –µ–¥—ã + –ø–µ—Ä–µ—Å—á—ë—Ç daily_stats
- `getFoodEntries()` - –ø–æ–ª—É—á–µ–Ω–∏–µ –∑–∞–ø–∏—Å–µ–π –æ –µ–¥–µ
- `verifyTelegramAuth()` - –∑–∞–≥–ª—É—à–∫–∞ –¥–ª—è Telegram auth

#### [`src/api/integrations.js`](./src/api/integrations.js) ‚Üê –ü–û–õ–ù–û–°–¢–¨–Æ –ü–ï–†–ï–ü–ò–°–ê–ù
**–ë—ã–ª–æ:** `base44.integrations.Core.*`
**–°—Ç–∞–ª–æ:** –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ Supabase Storage + –∑–∞–≥–ª—É—à–∫–∏ –¥–ª—è –¥–æ–ø. —Å–µ—Ä–≤–∏—Å–æ–≤

–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:
- ‚úÖ `UploadFile()` - –∑–∞–≥—Ä—É–∑–∫–∞ –≤ Supabase Storage (public bucket)
- ‚úÖ `UploadPrivateFile()` - –∑–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–∏–≤–∞—Ç–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
- ‚úÖ `CreateFileSignedUrl()` - —Å–æ–∑–¥–∞–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∞–Ω–Ω—ã—Ö URL
- ‚ö†Ô∏è `InvokeLLM()` - –∑–∞–≥–ª—É—à–∫–∞ (–Ω—É–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å OpenAI/Anthropic)
- ‚ö†Ô∏è `SendEmail()` - –∑–∞–≥–ª—É—à–∫–∞ (–Ω—É–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å email —Å–µ—Ä–≤–∏—Å)
- ‚ö†Ô∏è `GenerateImage()` - –∑–∞–≥–ª—É—à–∫–∞
- ‚ö†Ô∏è `ExtractDataFromUploadedFile()` - –∑–∞–≥–ª—É—à–∫–∞ (–Ω—É–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å OCR)

### üé® –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã

–û–±–Ω–æ–≤–ª–µ–Ω—ã –≤—Å–µ –∏–º–ø–æ—Ä—Ç—ã –∏ –≤—ã–∑–æ–≤—ã API –≤:

- ‚úÖ [`src/components/auth/useTelegramAuth.jsx`](./src/components/auth/useTelegramAuth.jsx)
- ‚úÖ [`src/pages/Onboarding.jsx`](./src/pages/Onboarding.jsx)
- ‚úÖ [`src/pages/Dashboard.jsx`](./src/pages/Dashboard.jsx)
- ‚úÖ [`src/pages/FoodDiary.jsx`](./src/pages/FoodDiary.jsx)
- ‚úÖ [`src/pages/Profile.jsx`](./src/pages/Profile.jsx)
- ‚úÖ [`src/pages/Analysis.jsx`](./src/pages/Analysis.jsx)
- ‚úÖ [`src/pages/Stats.jsx`](./src/pages/Stats.jsx)

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- –£–¥–∞–ª–µ–Ω—ã –∏–º–ø–æ—Ä—Ç—ã `base44`
- –ó–∞–º–µ–Ω–µ–Ω—ã –≤—ã–∑–æ–≤—ã `base44.functions.invoke()` ‚Üí –ø—Ä—è–º—ã–µ –≤—ã–∑–æ–≤—ã —Ñ—É–Ω–∫—Ü–∏–π
- –ó–∞–º–µ–Ω–µ–Ω—ã `base44.entities.*` ‚Üí –∏–º–ø–æ—Ä—Ç—ã –∏–∑ `@/api/entities`
- –ó–∞–º–µ–Ω–µ–Ω—ã `base44.integrations.Core.*` ‚Üí –∏–º–ø–æ—Ä—Ç—ã –∏–∑ `@/api/integrations`

### üì¶ –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

#### [`package.json`](./package.json)
**–£–¥–∞–ª–µ–Ω–æ:**
```json
"@base44/sdk": "^0.1.2"
```

**–î–æ–±–∞–≤–ª–µ–Ω–æ:**
```json
"@supabase/supabase-js": "^2.39.0",
"@tanstack/react-query": "^5.17.0"
```

### üìù –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–°–æ–∑–¥–∞–Ω—ã —Ñ–∞–π–ª—ã:

1. **[`.env.example`](./.env.example)** - —à–∞–±–ª–æ–Ω –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
2. **[`SUPABASE_MIGRATION_GUIDE.md`](./SUPABASE_MIGRATION_GUIDE.md)** - –ø–æ–ª–Ω–æ–µ 10-—Å—Ç—Ä–∞–Ω–∏—á–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ
3. **[`QUICK_START_RU.md`](./QUICK_START_RU.md)** - –±—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç –Ω–∞ —Ä—É—Å—Å–∫–æ–º (15 –º–∏–Ω—É—Ç)
4. **[`README.md`](./README.md)** - –æ–±–Ω–æ–≤–ª—ë–Ω –æ—Å–Ω–æ–≤–Ω–æ–π README

## üéØ –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é

### –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ —à–∞–≥–∏ (15 –º–∏–Ω—É—Ç):

1. **–°–æ–∑–¥–∞—Ç—å –ø—Ä–æ–µ–∫—Ç Supabase** ‚Üí [supabase.com](https://supabase.com)
2. **–í—ã–ø–æ–ª–Ω–∏—Ç—å SQL –º–∏–≥—Ä–∞—Ü–∏—é** ‚Üí —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å `supabase/migrations/001_initial_schema.sql` –≤ SQL Editor
3. **–°–æ–∑–¥–∞—Ç—å Storage buckets:**
   - `uploads` (public)
   - `private-uploads` (private)
4. **–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å API –∫–ª—é—á–∏** ‚Üí Settings ‚Üí API
5. **–°–æ–∑–¥–∞—Ç—å `.env`** ‚Üí —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∏–∑ `.env.example` –∏ –∑–∞–ø–æ–ª–Ω–∏—Ç—å
6. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏** ‚Üí `npm install`
7. **–ó–∞–ø—É—Å—Ç–∏—Ç—å** ‚Üí `npm run dev`

### –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —à–∞–≥–∏:

- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å LLM –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é (OpenAI/Anthropic) –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –µ–¥—ã
- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å OCR (Google Vision/AWS Textract) –¥–ª—è –∞–Ω–∞–ª–∏–∑–æ–≤
- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Email —Å–µ—Ä–≤–∏—Å –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- –ú–∏–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –∏–∑ Base44 (–µ—Å–ª–∏ –µ—Å—Ç—å)
- –ó–∞–¥–µ–ø–ª–æ–∏—Ç—å –Ω–∞ Vercel/Netlify

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π

- **–§–∞–π–ª–æ–≤ –∏–∑–º–µ–Ω–µ–Ω–æ:** 14
- **–§–∞–π–ª–æ–≤ —Å–æ–∑–¥–∞–Ω–æ:** 5
- **–¢–∞–±–ª–∏—Ü –≤ –ë–î:** 6
- **Storage buckets:** 2
- **–°—Ç—Ä–æ–∫ SQL:** 150+
- **–ü–æ–ª–Ω–æ—Å—Ç—å—é –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç Base44:** ‚úÖ

## üîÑ –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

### ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∞ –ø–æ–ª–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:
- –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ Telegram WebApp
- –û–Ω–±–æ—Ä–¥–∏–Ω–≥ —Å —Ä–∞—Å—á—ë—Ç–æ–º –ö–ë–ñ–£
- –ü–∏—â–µ–≤–æ–π –¥–Ω–µ–≤–Ω–∏–∫ —Å —Ñ–æ—Ç–æ
- –¢—Ä–µ–∫–∏–Ω–≥ –≤–æ–¥—ã –∏ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–π
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏ –≥—Ä–∞—Ñ–∏–∫–∏
- –ó–∞–≥—Ä—É–∑–∫–∞ –∞–Ω–∞–ª–∏–∑–æ–≤
- –°–∏—Å—Ç–µ–º–∞ –±–∞–ª–ª–æ–≤ –∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π
- –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è

### ‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:
- AI –∞–Ω–∞–ª–∏–∑ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π –µ–¥—ã (LLM)
- OCR —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ –∞–Ω–∞–ª–∏–∑–æ–≤
- Email —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- Telegram –±–æ—Ç –¥–ª—è –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π

## üìö –°—Å—ã–ª–∫–∏ –Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é

- **–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç:** [QUICK_START_RU.md](./QUICK_START_RU.md)
- **–ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ:** [SUPABASE_MIGRATION_GUIDE.md](./SUPABASE_MIGRATION_GUIDE.md)
- **README:** [README.md](./README.md)
- **Supabase Docs:** https://supabase.com/docs

## ‚ú® –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –º–∏–≥—Ä–∞—Ü–∏–∏

1. **–ù–µ–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å** - –º–æ–∂–µ—Ç–µ –¥–µ–ø–ª–æ–∏—Ç—å –≥–¥–µ —É–≥–æ–¥–Ω–æ
2. **–ü–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å** - –¥–æ—Å—Ç—É–ø –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö –Ω–∞–ø—Ä—è–º—É—é
3. **–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π tier** - Supabase free tier –æ—á–µ–Ω—å —â–µ–¥—Ä—ã–π
4. **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å** - –ª–µ–≥–∫–æ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–∏ —Ä–æ—Å—Ç–µ
5. **Open source** - –º–æ–∂–µ—Ç–µ —Ö–æ—Å—Ç–∏—Ç—å Supabase —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ
6. **–≠–∫–æ—Å–∏—Å—Ç–µ–º–∞** - –º–Ω–æ–∂–µ—Å—Ç–≤–æ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–π –∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤

## üéâ –†–µ–∑—É–ª—å—Ç–∞—Ç

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ **–ø–æ–ª–Ω–æ—Å—Ç—å—é –æ—Ç–≤—è–∑–∞–Ω–æ –æ—Ç Base44** –∏ –≥–æ—Ç–æ–≤–æ –∫ —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ–º—É –¥–µ–ø–ª–æ—é!

---

**–í—Ä–µ–º—è –Ω–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫—É:** ~15 –º–∏–Ω—É—Ç
**–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥:** [QUICK_START_RU.md](./QUICK_START_RU.md)
